<!DOCTYPE html>
<!-- Created by CodingLab |www.youtube.com/c/CodingLabYT-->
<html lang="en" dir="ltr">
  <head>
    <meta charset="UTF-8">
    <title> TPCP </title>
    {% load static %}
    <link rel="stylesheet" href={% static "css/base_style.css" %}>
    <!-- Boxicons CDN Link -->
    <link href='https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css' rel='stylesheet'>
    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
     <meta name="viewport" content="width=device-width, initial-scale=1.0">
   </head>
<body>
  <div class="sidebar">
    <div class="logo-details">
      <i class='bx bxs-tree icon'></i>
        <div class="logo_name">TPCP</div>
        <i class='bx bx-menu' id="btn" ></i>
    </div>
    <ul class="nav-list">
      <br>
      <li>
        <a href="{% url 'index' %}">
          <i class='bx bx-grid-alt'></i>
          <span class="links_name">Главная</span>
        </a>
         <span class="tooltip">Главная</span>
      </li>
     <li>
      <a href="{% url 'upload' %}">
         <i class='bx bx-folder-plus' ></i>
         <span class="links_name">Загрузить файлы</span>
       </a>
       <span class="tooltip">Загрузить файлы</span>
     </li>
     <li>
      <a href="{% url 'tree_list' %}">
         <i class='bx bx-hdd' ></i>
         <span class="links_name">Список деревьев</span>
       </a>
       <span class="tooltip">Список деревьев</span>
     </li>
     <li>
      <a href="{% url 'download' %}">
        <i class='bx bx-cloud-download' ></i>
         <span class="links_name">Скачать сводку</span>
       </a>
       <span class="tooltip">Скачать сводку</span>
     </li>
    </li>
    <li class="log">
      {% if request.user.is_authenticated %}
      <a href="{% url 'logout' %}">
        <i class='bx bx-log-out'></i>
        <span class="links_name">Выйти</span>
      </a>
      <span class="tooltip">Выйти</span>
      {% else %}
      <a href="{% url 'login' %}">
        <i class='bx bx-log-in'></i>
        <span class="links_name">Войти</span>
      </a>
      <span class="tooltip">Войти</span>
      {% endif %}
    </li>
     <li class="profile">
         <div class="profile-details">
           <!-- <img src="profile.jpg" alt="profileImg"> -->
           <div class="name_job">
             <div class="job">Вошли как</div>
             {% if request.user.is_authenticated %}
             <div class="name">{{user.username}}</div>
             {% else %}
             <div class="name">Гость</div>
             {% endif %}
           </div>
         </div>
         <i class='bx bx-user' id="log_out"></i>
     </li>
    </ul>
  </div>
  
  <section class="home-section">
      <!-- <div class="text">Dashboard</div> -->
      {% block content %}{% endblock %}
      {% block pagination %}
          {% if is_paginated %}
          <br><br>
          <div class="bd-example">
              <nav aria-label="Standard pagination example">

                  <nav aria-label="Статьи по Bootstrap 4">
                      <ul class="pagination justify-content-center">

                  <li class="page-item">
                      {% if page_obj.has_previous %}
                    <a class="page-link" href="{{ request.path }}?page={{ page_obj.previous_page_number }}" aria-label="Previous">
                      <span aria-hidden="true">&laquo;</span>
                    </a>
                    {% endif %}
                  </li>

              
                  <button type="button " class="btn btn-light" disabled> Страница {{ page_obj.number }} из {{ page_obj.paginator.num_pages }}</button>
              

                  <li class="page-item">
                      {% if page_obj.has_next %}
                    <a class="page-link" href="{{ request.path }}?page={{ page_obj.next_page_number }}" aria-label="Next">
                      <span aria-hidden="true">&raquo;</span>
                    </a>
                    {% endif %}
                  </li>
                </ul>
              </nav>
              </div>
          {% endif %}
        {% endblock %} 
        <br>
  </section>

  <script>
      let sidebar = document.querySelector(".sidebar");
      let closeBtn = document.querySelector("#btn");
      let searchBtn = document.querySelector(".bx-search");
      sidebar.classList.toggle("open");

      closeBtn.addEventListener("click", ()=>{
        sidebar.classList.toggle("open");
        menuBtnChange();//calling the function(optional)
      });

      searchBtn.addEventListener("click", ()=>{ // Sidebar open when you click on the search iocn
        sidebar.classList.toggle("open");
        menuBtnChange(); //calling the function(optional)
      });

      // following are the code to change sidebar button(optional)
      function menuBtnChange() {
      if(sidebar.classList.contains("open")){
        closeBtn.classList.replace("bx-menu", "bx-menu-alt-right");//replacing the iocns class
      }else {
        closeBtn.classList.replace("bx-menu-alt-right","bx-menu");//replacing the iocns class
      }
      }
  </script>

</body>
</html>
